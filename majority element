class Solution {
    int majorityElement(int arr[]) {
        int candidate = findCandidate(arr);
        
        // Verify if candidate is actually the majority element
        int count = 0;
        for (int num : arr) {
            if (num == candidate) count++;
        }
        
        return (count > arr.length / 2) ? candidate : -1;
    }
    
    // Phase 1: Find a candidate using Boyer-Moore Voting Algorithm
    private int findCandidate(int[] arr) {
        int candidate = arr[0];
        int votes = 1;
        
        for (int i = 1; i < arr.length; i++) {
            if (arr[i] == candidate) {
                votes++;
            } else {
                votes--;
                if (votes == 0) {
                    candidate = arr[i];
                    votes = 1;
                }
            }
        }
        return candidate;
    }
}

